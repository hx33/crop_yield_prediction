<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Time Series Project - Haiyu Xiao - Financial Time Series Models</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Time Series Project - Haiyu Xiao</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html">
 <span class="menu-text">About Me</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./introduction.html">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_sources.html">
 <span class="menu-text">Data Sources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data_visualization.html">
 <span class="menu-text">Data Visualization</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./eda.html">
 <span class="menu-text">Exploratory Data Analysis</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-models" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Models</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-models">    
        <li>
    <a class="dropdown-item" href="./arma.html">
 <span class="dropdown-text">ARMA/ARIMA/SARIMA Models</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./arimax.html">
 <span class="dropdown-text">ARIMAX/SARIMAX/VAR</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./financial.html">
 <span class="dropdown-text">Financial Time Series Models (ARCH/GARCH)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./deep_learning.html">
 <span class="dropdown-text">Deep Learning for TS</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./conclusions.html">
 <span class="menu-text">Conclusions</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#acfpacf" id="toc-acfpacf" class="nav-link active" data-scroll-target="#acfpacf">ACF/PACF</a></li>
  <li><a href="#select-ararmaarima-model" id="toc-select-ararmaarima-model" class="nav-link" data-scroll-target="#select-ararmaarima-model">Select AR/ARMA/ARIMA Model</a></li>
  <li><a href="#standardized-residuals-plot" id="toc-standardized-residuals-plot" class="nav-link" data-scroll-target="#standardized-residuals-plot">Standardized Residuals Plot</a></li>
  <li><a href="#ararch-model" id="toc-ararch-model" class="nav-link" data-scroll-target="#ararch-model">AR+ARCH Model</a></li>
  <li><a href="#argarch-model" id="toc-argarch-model" class="nav-link" data-scroll-target="#argarch-model">AR+GARCH Model</a></li>
  <li><a href="#best-model" id="toc-best-model" class="nav-link" data-scroll-target="#best-model">Best Model</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Financial Time Series Models</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">

</div>
<p>For this tab, the financial time series models will be implemented, to mainly forecast the volatility of future returns, an important factor in crops trading. The data for this part of analysis is the closing returns of stocks of Bunge Limited, an American agribusiness company that mills, manufactures, and sells wheat as a main business (<a href="https://ca.finance.yahoo.com/news/3-top-wheat-stocks-buy-090000987.html">Source</a>).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getSymbols</span>(<span class="st">"BG"</span>, <span class="at">from=</span><span class="st">"2012-01-01"</span>, <span class="at">src=</span><span class="st">"yahoo"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "BG"</code></pre>
</div>
</div>
<div class="cell">

</div>
<p>First, let’s look at the plot of the data and check the stationarity and volatility.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">chartSeries</span>(BG, <span class="at">theme=</span><span class="fu">chartTheme</span>(<span class="st">"white"</span>), <span class="at">bar.type=</span><span class="st">"hlc"</span>, </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>            <span class="at">up.col=</span><span class="st">"green"</span>, <span class="at">dn.col=</span><span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>BG_close <span class="ot">=</span> <span class="fu">Ad</span>(BG)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>returns <span class="ot">=</span> <span class="fu">diff</span>(<span class="fu">log</span>(BG_close))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">chartSeries</span>(returns, <span class="at">theme=</span><span class="fu">chartTheme</span>(<span class="st">"white"</span>), <span class="at">bar.type=</span><span class="st">"hlc"</span>, </span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">up.col=</span><span class="st">"green"</span>, <span class="at">dn.col=</span><span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>First, from the candlestick time series plot, there is a huge increase of the closing price of the stock since 2020, however it started to decline and is at a constant level since 2022. The closing returns does not look completely stationary, and the volatility is also hard to tell. After the differencing and log transform steps, the data seems to be stationary, while also having an increase in volatility.</p>
<section id="section" class="level4">
<h4 class="anchored" data-anchor-id="section"></h4>
</section>
<section id="acfpacf" class="level3">
<h3 class="anchored" data-anchor-id="acfpacf">ACF/PACF</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggAcf</span>(returns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggPacf</span>(returns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Then I will look at the ACF and PACF of the absolute returns and squared returns.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggAcf</span>(<span class="fu">abs</span>(returns))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggAcf</span>(returns<span class="sc">**</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-7-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It seems that there is high correlation for the absolute and square of the returns. Therefore, fitting with just ARCH/GARCH model is not enough, and AR/ARIMA+ARCH/GARCH should be used.</p>
<section id="section-1" class="level4">
<h4 class="anchored" data-anchor-id="section-1"></h4>
</section>
</section>
<section id="select-ararmaarima-model" class="level3">
<h3 class="anchored" data-anchor-id="select-ararmaarima-model">Select AR/ARMA/ARIMA Model</h3>
<p>First, with AR model I want to choose the best p value.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">=</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="cn">NA</span>,<span class="dv">4</span><span class="sc">*</span><span class="dv">6</span>), <span class="at">nrow=</span><span class="dv">6</span>, <span class="at">ncol=</span><span class="dv">4</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>i<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>){</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  model <span class="ot">=</span> <span class="fu">Arima</span>(returns, <span class="at">order=</span><span class="fu">c</span>(p,<span class="dv">0</span>,<span class="dv">0</span>), <span class="at">include.drift=</span><span class="cn">TRUE</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  scores[i,] <span class="ot">=</span> <span class="fu">c</span>(p, model<span class="sc">$</span>aic, model<span class="sc">$</span>bic, model<span class="sc">$</span>aicc)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">=</span> i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">=</span> <span class="fu">as.data.frame</span>(scores)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(scores) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"p"</span>,<span class="st">"AIC"</span>,<span class="st">"BIC"</span>,<span class="st">"AICc"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>scores</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  p       AIC       BIC      AICc
1 0 -14697.77 -14679.89 -14697.76
2 1 -14718.70 -14694.88 -14718.69
3 2 -14717.92 -14688.13 -14717.89
4 3 -14716.69 -14680.95 -14716.66
5 4 -14716.81 -14675.12 -14716.77
6 5 -14717.24 -14669.58 -14717.19</code></pre>
</div>
</div>
<p>It is obvious that p=1 is the best model.</p>
<section id="section-2" class="level4">
<h4 class="anchored" data-anchor-id="section-2"></h4>
<p>With ARIMA model I want to choose the best p,d,q values.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">=</span> <span class="fu">matrix</span>(<span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">6</span><span class="sc">*</span><span class="dv">18</span>), <span class="at">nrow=</span><span class="dv">18</span>, <span class="at">ncol=</span><span class="dv">6</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>i<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>){</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (d <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>){</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (q <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>){</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>      model <span class="ot">=</span> <span class="fu">Arima</span>(returns, <span class="at">order=</span><span class="fu">c</span>(p,d,q), <span class="at">include.drift=</span><span class="cn">TRUE</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>      scores[i,] <span class="ot">=</span> <span class="fu">c</span>(p,d,q,model<span class="sc">$</span>aic, model<span class="sc">$</span>bic, model<span class="sc">$</span>aicc)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>      i <span class="ot">=</span> i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">=</span> <span class="fu">as.data.frame</span>(scores)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(scores) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"p"</span>,<span class="st">"d"</span>, <span class="st">"q"</span>,<span class="st">"AIC"</span>,<span class="st">"BIC"</span>,<span class="st">"AICC"</span>)</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(scores, <span class="at">format=</span><span class="st">"pipe"</span>, <span class="at">padding=</span><span class="dv">30</span>, <span class="at">digits=</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped">
<colgroup>
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 14%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">p</th>
<th style="text-align: right;">d</th>
<th style="text-align: right;">q</th>
<th style="text-align: right;">AIC</th>
<th style="text-align: right;">BIC</th>
<th style="text-align: right;">AICC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-14697.77</td>
<td style="text-align: right;">-14679.89</td>
<td style="text-align: right;">-14697.76</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-14717.69</td>
<td style="text-align: right;">-14693.86</td>
<td style="text-align: right;">-14717.68</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-14717.46</td>
<td style="text-align: right;">-14687.68</td>
<td style="text-align: right;">-14717.44</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-12470.96</td>
<td style="text-align: right;">-12459.05</td>
<td style="text-align: right;">-12470.96</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-14683.66</td>
<td style="text-align: right;">-14665.79</td>
<td style="text-align: right;">-14683.65</td>
</tr>
<tr class="even">
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-14703.40</td>
<td style="text-align: right;">-14679.57</td>
<td style="text-align: right;">-14703.38</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-14718.70</td>
<td style="text-align: right;">-14694.88</td>
<td style="text-align: right;">-14718.69</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-14718.55</td>
<td style="text-align: right;">-14688.77</td>
<td style="text-align: right;">-14718.53</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-14716.61</td>
<td style="text-align: right;">-14680.87</td>
<td style="text-align: right;">-14716.58</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-13515.42</td>
<td style="text-align: right;">-13497.55</td>
<td style="text-align: right;">-13515.41</td>
</tr>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-14704.42</td>
<td style="text-align: right;">-14680.59</td>
<td style="text-align: right;">-14704.41</td>
</tr>
<tr class="even">
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-14704.31</td>
<td style="text-align: right;">-14674.53</td>
<td style="text-align: right;">-14704.29</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-14717.92</td>
<td style="text-align: right;">-14688.13</td>
<td style="text-align: right;">-14717.89</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-14715.84</td>
<td style="text-align: right;">-14680.10</td>
<td style="text-align: right;">-14715.81</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-14714.64</td>
<td style="text-align: right;">-14672.95</td>
<td style="text-align: right;">-14714.60</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">-13847.40</td>
<td style="text-align: right;">-13823.57</td>
<td style="text-align: right;">-13847.38</td>
</tr>
<tr class="odd">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">-14703.67</td>
<td style="text-align: right;">-14673.89</td>
<td style="text-align: right;">-14703.65</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">-14702.34</td>
<td style="text-align: right;">-14666.60</td>
<td style="text-align: right;">-14702.31</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>It seems that the model ARIMA(1,0,0) is the best model here, and this is the same model as the previous step. Therefore, it can be determined that the best model for now is AR(1) model.</p>
</section>
<section id="section-3" class="level4">
<h4 class="anchored" data-anchor-id="section-3"></h4>
</section>
</section>
<section id="standardized-residuals-plot" class="level3">
<h3 class="anchored" data-anchor-id="standardized-residuals-plot">Standardized Residuals Plot</h3>
<p>I will now check the standardized residuals plot of the previous selected model, to see whether further modeling is needed.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>ar1 <span class="ot">=</span> <span class="fu">Arima</span>(returns, <span class="at">order=</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">0</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>res1 <span class="ot">=</span> ar1<span class="sc">$</span>residuals</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggAcf</span>(res1<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggPacf</span>(res1<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="financial_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>It seems that there is still high correlation from the ACF and PACF of the squared residuals, therefore for further modeling I can look for appropriate ARCH or GARCH model and compare the performances.</p>
<section id="section-4" class="level4">
<h4 class="anchored" data-anchor-id="section-4"></h4>
</section>
</section>
<section id="ararch-model" class="level3">
<h3 class="anchored" data-anchor-id="ararch-model">AR+ARCH Model</h3>
<p>In this step I will fit the AR model with different ARCH models and find a best one.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>arch_list <span class="ot">=</span> <span class="fu">list</span>()</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>i<span class="ot">=</span><span class="dv">1</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (p <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>){</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  arch_list[[i]] <span class="ot">=</span> <span class="fu">garch</span>(ar1<span class="sc">$</span>res[<span class="dv">2</span><span class="sc">:</span>(<span class="fu">length</span>(ar1<span class="sc">$</span>res)<span class="sc">-</span><span class="dv">1</span>)], <span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,p), <span class="at">trace=</span>F)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">=</span> i<span class="sc">+</span><span class="dv">1</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Look for the best ARCH model here by comparing the AIC scores.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>aic_arch <span class="ot">=</span> <span class="fu">sapply</span>(arch_list, AIC)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(aic_arch<span class="sc">==</span><span class="fu">min</span>(aic_arch))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3</code></pre>
</div>
</div>
<p>Therefore, ARCH3 is the best one here.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>arch3 <span class="ot">=</span> <span class="fu">garch</span>(ar1<span class="sc">$</span>res[<span class="dv">2</span><span class="sc">:</span>(<span class="fu">length</span>(ar1<span class="sc">$</span>res)<span class="sc">-</span><span class="dv">1</span>)], <span class="at">order=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">3</span>), <span class="at">trace=</span>F)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(aic_arch[<span class="dv">3</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] -15088.7</code></pre>
</div>
</div>
<section id="section-5" class="level4">
<h4 class="anchored" data-anchor-id="section-5"></h4>
</section>
</section>
<section id="argarch-model" class="level3">
<h3 class="anchored" data-anchor-id="argarch-model">AR+GARCH Model</h3>
<p>For the AR+GARCH model, based on the ACF and PACF of the squared residuals of AR(1), I picked the orders of the model to be order[1]=[1,2], order[2]=[1,2].</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>garch11 <span class="ot">=</span> <span class="fu">garchFit</span>(<span class="at">formula=</span><span class="sc">~</span><span class="fu">garch</span>(<span class="dv">1</span>,<span class="dv">1</span>), <span class="at">data=</span>res1[<span class="dv">2</span><span class="sc">:</span>(<span class="fu">length</span>(res1)<span class="sc">-</span><span class="dv">1</span>)], <span class="at">trace=</span>F)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>garch12 <span class="ot">=</span> <span class="fu">garchFit</span>(<span class="at">formula=</span><span class="sc">~</span><span class="fu">garch</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="at">data=</span>res1[<span class="dv">2</span><span class="sc">:</span>(<span class="fu">length</span>(res1)<span class="sc">-</span><span class="dv">1</span>)], <span class="at">trace=</span>F)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>garch21 <span class="ot">=</span> <span class="fu">garchFit</span>(<span class="at">formula=</span><span class="sc">~</span><span class="fu">garch</span>(<span class="dv">2</span>,<span class="dv">1</span>), <span class="at">data=</span>res1[<span class="dv">2</span><span class="sc">:</span>(<span class="fu">length</span>(res1)<span class="sc">-</span><span class="dv">1</span>)], <span class="at">trace=</span>F)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>garch22 <span class="ot">=</span> <span class="fu">garchFit</span>(<span class="at">formula=</span><span class="sc">~</span><span class="fu">garch</span>(<span class="dv">2</span>,<span class="dv">2</span>), <span class="at">data=</span>res1[<span class="dv">2</span><span class="sc">:</span>(<span class="fu">length</span>(res1)<span class="sc">-</span><span class="dv">1</span>)], <span class="at">trace=</span>F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>garch_models <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"garch(1,1)"</span>, <span class="st">"garch(1,2)"</span>, <span class="st">"garch(2,1)"</span>, <span class="st">"garch(2,2)"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>garch_AIC <span class="ot">=</span> <span class="fu">c</span>(garch11<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">1</span>],garch12<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">1</span>],garch21<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">1</span>], garch22<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">1</span>])</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>garch_BIC <span class="ot">=</span> <span class="fu">c</span>(garch11<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">2</span>],garch12<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">2</span>],garch21<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">2</span>], garch22<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">2</span>])</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>garch_SIC <span class="ot">=</span> <span class="fu">c</span>(garch11<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">3</span>],garch12<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">3</span>],garch21<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">3</span>], garch22<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">3</span>])</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>garchs <span class="ot">=</span> <span class="fu">data.frame</span>(garch_models, garch_AIC, garch_BIC, garch_SIC)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>garchs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>  garch_models garch_AIC garch_BIC garch_SIC
1   garch(1,1) -5.302291 -5.293943 -5.302295
2   garch(1,2) -5.304602 -5.294167 -5.304609
3   garch(2,1) -5.301434 -5.290998 -5.301440
4   garch(2,2) -5.303902 -5.291380 -5.303911</code></pre>
</div>
</div>
<p>It looks like that GARCH(1,2) is the best model based on the three measures. Therefore, the best model here is AR(1)+GARCH(1,2).</p>
<section id="section-6" class="level4">
<h4 class="anchored" data-anchor-id="section-6"></h4>
</section>
</section>
<section id="best-model" class="level3">
<h3 class="anchored" data-anchor-id="best-model">Best Model</h3>
<p>To find the better one from AR(1)+ARCH(3) and AR(1)+GARCH(1,2), I will compare their AIC score.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"AIC of ARCH(3) = "</span>, aic_arch[<span class="dv">3</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AIC of ARCH(3) = -15088.6996502879"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste0</span>(<span class="st">"AIC of GARCH(1,2) = "</span>, garch11<span class="sc">@</span>fit<span class="sc">$</span>ics[<span class="dv">1</span>]<span class="sc">*</span><span class="fu">length</span>(garch12<span class="sc">@</span>data)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "AIC of GARCH(1,2) = -15132.7394635695"</code></pre>
</div>
</div>
<p>It looks like the AIC of the AR(1)+GARCH(1,2) model is smaller. We will then look at some model diagnosis of these two models.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(arch3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
garch(x = ar1$res[2:(length(ar1$res) - 1)], order = c(0, 3),     trace = F)

Model:
GARCH(0,3)

Residuals:
     Min       1Q   Median       3Q      Max 
-8.75236 -0.47008  0.02229  0.51018 10.54720 

Coefficient(s):
    Estimate  Std. Error  t value Pr(&gt;|t|)    
a0 2.002e-04   2.675e-06   74.836  &lt; 2e-16 ***
a1 2.106e-01   1.708e-02   12.329  &lt; 2e-16 ***
a2 1.606e-01   1.464e-02   10.973  &lt; 2e-16 ***
a3 6.456e-02   9.958e-03    6.484 8.95e-11 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Diagnostic Tests:
    Jarque Bera Test

data:  Residuals
X-squared = 20717, df = 2, p-value &lt; 2.2e-16


    Box-Ljung test

data:  Squared.Residuals
X-squared = 0.27658, df = 1, p-value = 0.599</code></pre>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(garch12)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Title:
 GARCH Modelling 

Call:
 garchFit(formula = ~garch(1, 2), data = res1[2:(length(res1) - 
    1)], trace = F) 

Mean and Variance Equation:
 data ~ garch(1, 2)
&lt;environment: 0x0000011bb7955e68&gt;
 [data = res1[2:(length(res1) - 1)]]

Conditional Distribution:
 norm 

Coefficient(s):
        mu       omega      alpha1       beta1       beta2  
4.0753e-05  3.1451e-05  1.1964e-01  1.8923e-01  5.9916e-01  

Std. Errors:
 based on Hessian 

Error Analysis:
        Estimate  Std. Error  t value Pr(&gt;|t|)    
mu     4.075e-05   3.032e-04    0.134   0.8931    
omega  3.145e-05   4.814e-06    6.533 6.46e-11 ***
alpha1 1.196e-01   1.649e-02    7.254 4.06e-13 ***
beta1  1.892e-01   9.046e-02    2.092   0.0364 *  
beta2  5.992e-01   8.795e-02    6.812 9.60e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Log Likelihood:
 7574.668    normalized:  2.654053 

Description:
 Wed May 10 00:37:46 2023 by user: 49789 


Standardised Residuals Tests:
                                Statistic p-Value  
 Jarque-Bera Test   R    Chi^2  21465.62  0        
 Shapiro-Wilk Test  R    W      0.8911886 0        
 Ljung-Box Test     R    Q(10)  10.37341  0.4083662
 Ljung-Box Test     R    Q(15)  13.42768  0.5693006
 Ljung-Box Test     R    Q(20)  16.11302  0.7095885
 Ljung-Box Test     R^2  Q(10)  2.818155  0.9853854
 Ljung-Box Test     R^2  Q(15)  18.04306  0.2604083
 Ljung-Box Test     R^2  Q(20)  19.88941  0.4648663
 LM Arch Test       R    TR^2   3.854605  0.9859193

Information Criterion Statistics:
      AIC       BIC       SIC      HQIC 
-5.304602 -5.294167 -5.304609 -5.300839 </code></pre>
</div>
</div>
<p>Looking at the Ljung-Box test, the p-values of the tests on squared residuals are all greater than 0.05, with GARCH(1,2) has a little larger p-value, meaning that the two models both represents the residuals well. Therefore, AR(1)+GARCH(1,2) wins on lower AIC score and is the best model.</p>
<p>The equation of this model will be:</p>
<p><span class="math display">\[
σ_t^2 = κ+γ_1σ_{t-1}^2+α_1ε_{t−1}^2+α_2ε_{t−2}^2\]</span></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>